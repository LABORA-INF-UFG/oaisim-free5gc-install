---
    -   hosts: OAISim-with-free5gc
        become: yes
        remote_user: root
        vars:
            num_ues: '100'
            docker_custom_subnet_network: '192.188.2.0/24'
            docker_custom_network_name: 'free5gc'
            web_interface_port_access: '3000'
            BASE_DIR_INSTALL: 'OAISim-free5gc-conf'
            ip_address_AMF: '192.188.2.2'
            ip_address_SMF: '192.188.2.3'
            ip_address_HSS: '192.188.2.4'
            ip_address_PCRF: '192.188.2.5'
            ip_address_UPF: '192.188.2.6'
            ip_address_MONGO_DB: '192.188.2.100'
            ip_address_WEB_UI: '192.188.2.101'
            ip_address_OAISIM_ENB: '192.188.2.253'
            ip_address_OAISIM_UE: '192.188.2.254'
            free5gc_st1_image_name: 'laboraufg/free5gc-st1'
            free5gc_webui_image_name: 'laboraufg/webui-free5gc'
            free5gc_mongodb_image_name: 'laboraufg/mongodb-free5gc'
            oaisim_enb_image_name: 'laboraufg/enb-openairsim'
            oaisim_ue_image_name: 'laboraufg/ue-openairsim'
            UE_container_name: 'ue'
            ENB_container_name: 'enb'
            AMF_container_name: 'amf'
            SMF_container_name: 'smf'
            HSS_container_name: 'hss'
            PCRF_container_name: 'pcrf'
            UPF_container_name: 'upf'
            MONGO_DB_container_name: 'mongodb-svc'
            WEB_UI_container_name: 'webui'
            start_webapp: 'true'
            deploy_oaisim: 'true'
            clear_file_instalation: 'true'
            HPLMN : "20893"
            USIM_API_K : "8baf473f2f8fd09487cccbd7097c6862"
            OPC : "e734f8734007d6c5ce7a0508809e7e9c"
            user_equiments:
                - { ue_id: UE0 ,   msin: '0000000001' }
                - { ue_id: UE1 ,   msin: '0000000002' }
                - { ue_id: UE2 ,   msin: '0000000003' }
                - { ue_id: UE3 ,   msin: '0000000004' }
                - { ue_id: UE4 ,   msin: '0000000005' }
                - { ue_id: UE5 ,   msin: '0000000006' }
                - { ue_id: UE6 ,   msin: '0000000007' }
                - { ue_id: UE7 ,   msin: '0000000008' }
                - { ue_id: UE8 ,   msin: '0000000009' }
                - { ue_id: UE9 ,   msin: '0000000010' }
                - { ue_id: UE10 ,  msin: '0000000011' }
                - { ue_id: UE11 ,  msin: '0000000012' }
                - { ue_id: UE12 ,  msin: '0000000013' }
                - { ue_id: UE13 ,  msin: '0000000014' }
                - { ue_id: UE14 ,  msin: '0000000015' }
                - { ue_id: UE15 ,  msin: '0000000016' }
                - { ue_id: UE16 ,  msin: '0000000017' }
                - { ue_id: UE17 ,  msin: '0000000018' }
                - { ue_id: UE18 ,  msin: '0000000019' }
                - { ue_id: UE19 ,  msin: '0000000020' }
                - { ue_id: UE20 ,  msin: '0000000021' }
                - { ue_id: UE21 ,  msin: '0000000022' }
                - { ue_id: UE22 ,  msin: '0000000023' }
                - { ue_id: UE23 ,  msin: '0000000024' }
                - { ue_id: UE24 ,  msin: '0000000025' }
                - { ue_id: UE25 ,  msin: '0000000026' }
                - { ue_id: UE26 ,  msin: '0000000027' }
                - { ue_id: UE27 ,  msin: '0000000028' }
                - { ue_id: UE28 ,  msin: '0000000029' }
                - { ue_id: UE29 ,  msin: '0000000030' }
                - { ue_id: UE30 ,  msin: '0000000031' }
                - { ue_id: UE31 ,  msin: '0000000032' }
                - { ue_id: UE32 ,  msin: '0000000033' }
                - { ue_id: UE33 ,  msin: '0000000034' }
                - { ue_id: UE34 ,  msin: '0000000035' }
                - { ue_id: UE35 ,  msin: '0000000036' }
                - { ue_id: UE36 ,  msin: '0000000037' }
                - { ue_id: UE37 ,  msin: '0000000038' }
                - { ue_id: UE38 ,  msin: '0000000039' }
                - { ue_id: UE39 ,  msin: '0000000040' }
                - { ue_id: UE40 ,  msin: '0000000041' }
                - { ue_id: UE41 ,  msin: '0000000042' }
                - { ue_id: UE42 ,  msin: '0000000043' }
                - { ue_id: UE43 ,  msin: '0000000044' }
                - { ue_id: UE44 ,  msin: '0000000045' }
                - { ue_id: UE45 ,  msin: '0000000046' }
                - { ue_id: UE46 ,  msin: '0000000047' }
                - { ue_id: UE47 ,  msin: '0000000048' }
                - { ue_id: UE48 ,  msin: '0000000049' }
                - { ue_id: UE49 ,  msin: '0000000050' }
                - { ue_id: UE50 ,  msin: '0000000051' }
                - { ue_id: UE51 ,  msin: '0000000052' }
                - { ue_id: UE52 ,  msin: '0000000053' }
                - { ue_id: UE53 ,  msin: '0000000054' }
                - { ue_id: UE54 ,  msin: '0000000055' }
                - { ue_id: UE55 ,  msin: '0000000056' }
                - { ue_id: UE56 ,  msin: '0000000057' }
                - { ue_id: UE57 ,  msin: '0000000058' }
                - { ue_id: UE58 ,  msin: '0000000059' }
                - { ue_id: UE59 ,  msin: '0000000060' }
                - { ue_id: UE60 ,  msin: '0000000061' }
                - { ue_id: UE61 ,  msin: '0000000062' }
                - { ue_id: UE62 ,  msin: '0000000063' }
                - { ue_id: UE63 ,  msin: '0000000064' }
                - { ue_id: UE64 ,  msin: '0000000065' }
                - { ue_id: UE65 ,  msin: '0000000066' }
                - { ue_id: UE66 ,  msin: '0000000067' }
                - { ue_id: UE67 ,  msin: '0000000068' }
                - { ue_id: UE68 ,  msin: '0000000069' }
                - { ue_id: UE69 ,  msin: '0000000070' }
                - { ue_id: UE70 ,  msin: '0000000071' }
                - { ue_id: UE71 ,  msin: '0000000072' }
                - { ue_id: UE72 ,  msin: '0000000073' }
                - { ue_id: UE73 ,  msin: '0000000074' }
                - { ue_id: UE74 ,  msin: '0000000075' }
                - { ue_id: UE75 ,  msin: '0000000076' }
                - { ue_id: UE76 ,  msin: '0000000077' }
                - { ue_id: UE77 ,  msin: '0000000078' }
                - { ue_id: UE78 ,  msin: '0000000079' }
                - { ue_id: UE79 ,  msin: '0000000080' }
                - { ue_id: UE80 ,  msin: '0000000081' }
                - { ue_id: UE81 ,  msin: '0000000082' }
                - { ue_id: UE82 ,  msin: '0000000083' }
                - { ue_id: UE83 ,  msin: '0000000084' }
                - { ue_id: UE84 ,  msin: '0000000085' }
                - { ue_id: UE85 ,  msin: '0000000086' }
                - { ue_id: UE86 ,  msin: '0000000087' }
                - { ue_id: UE87 ,  msin: '0000000088' }
                - { ue_id: UE88 ,  msin: '0000000089' }
                - { ue_id: UE89 ,  msin: '0000000090' }
                - { ue_id: UE90 ,  msin: '0000000091' }
                - { ue_id: UE91 ,  msin: '0000000092' }
                - { ue_id: UE92 ,  msin: '0000000093' }
                - { ue_id: UE93 ,  msin: '0000000094' }
                - { ue_id: UE94 ,  msin: '0000000095' }
                - { ue_id: UE95 ,  msin: '0000000096' }
                - { ue_id: UE96 ,  msin: '0000000097' }
                - { ue_id: UE97 ,  msin: '0000000098' }
                - { ue_id: UE98 ,  msin: '0000000099' }
                - { ue_id: UE99 ,  msin: '0000000100' }
        tasks:
            - fail: 
                msg: "'physical_network_interface' not found, this parameter is required!"
              when: physical_network_interface == ''
    
            - name  : Remove old instalation
              shell:  |
                    rm -rf {{ BASE_DIR_INSTALL }}
                    apt-get remove docker docker-engine docker.io docker-ce -y
                    apt-get update
            
            - name  : Create dir instalation
              shell:  |
                    mkdir {{ BASE_DIR_INSTALL }}
    
            - name  : Remove docker old docker containers
              ignore_errors: true
              shell:  |
                    docker container prune -f
            
            - name  : Remove free5gc-st1 image
              ignore_errors: true
              shell:  |
                    docker image rm {{ free5gc_st1_image_name }}

            - name  : Remove free5gc-mongodb image
              ignore_errors: true
              shell:  |
                    docker image rm {{ free5gc_mongodb_image_name }}

            - name  : Remove enb-openairsim image
              ignore_errors: true
              shell:  |
                    docker image rm {{ oaisim_ue_image_name }}

            - name  : Remove ue-openairsim image
              ignore_errors: true
              shell:  |
                    docker image rm {{ oaisim_enb_image_name }}

            - name  : Remove free5gc-webui image
              ignore_errors: true
              shell:  |
                    docker image rm {{ free5gc_webui_image_name }}

            - name  : Remove free5g docker custom network
              ignore_errors: true
              shell:  |
                    docker network rm {{ docker_custom_network_name }}
          
    
    
    